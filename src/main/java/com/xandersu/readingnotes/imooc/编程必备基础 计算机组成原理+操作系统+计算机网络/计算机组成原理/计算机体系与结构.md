# 冯诺依曼体系

- 必须有一个存储器

- 必须有一个控制器

- 必须有一个运算器

- 必须有输入设备

- 必须有输出设备

- 能够把需要的程序和数据送至计算机中

- 能够长期记忆程序、数据、中间结果及最终运算结果的能力

- 能够具备算术、逻辑运算和数据传送等数据加工处理的能力

- 能够按要求将处理结果输出给用户


# 计算机总线

## 总线：片内总线、系统总线

片内总线：

- 芯片内部的总线
- 寄存器与寄存器之间
- 寄存器与控制器、运算器之间

系统总线：

- 数据总线

  - 双向传输各个部件的数据信息
  - 数据总线的位数（总线宽度）是数据总线的重要参数

- 地址总线

  - 指定源数据或目的数据在内存中的地址
  - 地址总线得我位数与存储单元有关

- 控制总线

  - 控制总线是用来发出各种控制信号的传输线
  - 控制信号经由控制总线从一个组件发给另一个组件
  - 控制总线可以监视不同组件之间的状态（就绪/未就绪）

  

## 总线的仲裁：为了解决总线使用权的冲突问题

仲裁方法：

- 链式查询
  - 好处：电路复杂度低，仲裁方式简单
  - 坏处：优先级低的设备难以获得总线使用权
  - 坏处：对电路故障敏感
- 计时器定时查询
  - 仲裁控制器对设备编号并使用计数器累计计数
  - 接收到仲裁信号后，往所有设备发出计数值
  - 计数值与设备编号一致则获得总线使用权
- 独立请求
  - 每个设备均有总线独立连接仲裁器
  - 设备可单独向仲裁器发送请求和接收请求
  - 当同时收到多个请求信号，仲裁器有权按优先级分配使用权
  - 好处：响应速度快，优先顺序可以动态改变
  - 设备连线多，总线控制复杂

# 计算机输入输出设备

## 输入输出接口通用设计

- 数据线
  - 是IO设备与主机之间进行数据交换的传输线
  - 单向传输
  - 双向传输
- 状态线
  - IO设备状态向主机报告的信号线
  - 查询设备是否正常连接并且就绪
  - 查询设备是否已经被占用
- 命令线
  - CPU向设备发送命令的信号线
  - 发送读写命令
  - 发送启动停止信号
- 设备选择线
  - 主机选择IO设备进行操作的信号线
  - 对连在总线上的设备进行选择

## CPU与IO设备的通信

- 程序中断
  - 当外围IO设备就绪时，向CPU发送中断信号
  - CPU有专门的电路响应中断信号
  - 提供低速设备通知CPU的一种异步的方式
  - CPU可以高速运转的同时兼顾低速设备的响应
- DMA（直接存储器访问）
  - DMA直接连接主存与IO设备
  - DMA工作时不需要CPU参与
  - 当主存与IO设备交换信息时，不需要中断CPU
  - 提高CPU效率，不需要频繁中断
  - 硬盘、显卡里都有

# 计算机存储器

存储器分类：

存储介质：半导体存储器、磁存储器

存取方式：随机存储器RAM、串行存储器、只读存储器ROM

局部性原理：CPU访问存储器时，无论存储指令和存储数据，所访问的存储单元趋于聚集在一个较小的连续区域中。





















