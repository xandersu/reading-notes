# 2-05 TCP和UDP的区别

## UDP简介

### UDP报文结构

Source Port：源端口

Destination Port：目标端口

Length：数据包长度

Checksum：奇偶校验值

data octets：用户数 据

### UDP的特点

- 面向非连接。传输数据之前，源端和目标端不建立连接，尽快发送到网络端。
- 不维护连接状态，支持同时向多个客户端传输相同的消息。一台服务器可以向多个客户机传输消息。
- 数据包包头只有8个字节，额外开销较小。相对于TCP小很多。
- 吞吐量只受限于数据生成速率、传输速率以及机器性能。
- 尽最大努力交付，不保证可靠交付，不需要维持复杂的连接状态表。
- 面向报文，不对应用程序提交的报文信息进行拆分或者合并。

### 结论

TCP和UDP都是OSI模型中的运输层的协议

- 面向连接 vs 无连接。 tcp三次握手连接过程、UDP广播。
- 可靠性。 tcp握手和重传机制。
- 有序性。 tcp利用序列号保证消息报的顺序交付，到达可能无序但TCP可以排序、UDP无有序性。
- 速度 tcp慢、UDP适合速度敏感，在线视频媒体，电视广播，多人在线游戏。
- 量级。 tcp重量级，头数据20个字节、 UDP轻量级，8个字节。

