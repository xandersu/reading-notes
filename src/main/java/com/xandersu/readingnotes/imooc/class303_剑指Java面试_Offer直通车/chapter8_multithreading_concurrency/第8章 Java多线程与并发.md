# 第8章 Java多线程与并发

## 进程和线程的区别

### 进程和线程的由来

- **串行：**初期的计算机只能串行执行任务，并且需要长时间等待用户输入
- **批处理：**预先将用户的指令集集中成清单，批量串行处理用户指令，仍然无法并发执行
- **进程：**进程独占内存空间，保存各自的运行状态，相互间不干扰可以相互切换，为并发处理任务提供了可能
  - 进程对应一个程序，一个进程对应一定的内存地址空间，并且只能使用他自己的内存空间，各个进程之间互不干扰，并且进程保存了程序每个时刻的运行状态
  - 为进程切换提供可能
  - 当进程暂停时，会保存当前进程的状态，比如进程的标识、进程使用的资源，在下一次等到io设备完成作业输出结果后再重新切换回来时，便根据之前保存的状态进行恢复然后继续执行，进程让操作系统的并发成为了可能。
  - 虽然并发从宏观上看是由多个任务在执行，但是事实上，对于单核CPU的机器来讲，任何一个具体的时刻，只有一个任务在占用CPU资源。
  - 单核情况下让用户看起来像同一时刻并发执行多个任务的原因是因为CPU分配给单一任务执行的时间片很短，任务切换的频次高，造成所有任务都并发执行的假象
  - 在出现了进程之后，操作系统的性能得到了大幅的提升
  - 虽然进程的出现解决了操作系统的并发问题，但是随着电脑的普及，人们对实时性有了要求。
  - 因为一个进程在一段时间内只做一件事情，如果一个进程有多个任务，他只能逐个的去执行这些子任务，而往往子任务之间不存在顺序上的依赖可以并发执行的。
  - 既然CPU可以按照时间片的方式轮流切换跑进程，让CPU按照更细的时间片执行子任务
- **线程：**共享进程的内存资源，相互间切换更快速，支持更细力度的任务控制，使进程内的子任务得以并发执行。
  - 子任务共享内存等资源

