# 4-09 Redis集群

# Redis集群原理

### 如何从海量数据中快速找到所需

- 分片：按照某种规则去划分数据，分散存储在多个节点上
- 常规的按照哈希划分无法实现节点的动态增减

## 一致性哈希算法：对2^32取模，将哈希值空间组织成虚拟的圆环

将数据key使用相同的函数hash运算出哈希值

### Hash环的数据倾斜问题，引入虚拟节点解决数据倾斜的问题

一致性哈希算法在服务器节点很少的时候，容易因为节点分布不均匀而造成数据倾斜

数据倾斜指的是被缓存的对象大部分集中缓存在某一台服务器上。

对每一个服务器节点计算多个hash，虚拟节点

