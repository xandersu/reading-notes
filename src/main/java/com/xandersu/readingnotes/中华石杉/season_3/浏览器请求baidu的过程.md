浏览器请求百度，找DNS服务器解析域名后，返回一个ip地址，比如172.194.26.108.

接着判断两个ip是不是一个子网的，用子网掩码255.255.255.0，对两个ip地址做与运算，不是一个子网的

发送一个数据包发给网关（路由器）

应用层走http协议，把http请求报文打包成一个数据包

传输层，走TCP协议，包装成tcp数据包，加一个tcp头，tcp头里放了发送方端口号和接收方端口号信息

网络层，走ip协议，包装成ip数据包，加一个ip头，ip头里由本机和目标机器的ip地址

数据链路层，走以太网协议，包装成以太网数据包，加一个以太网数据包头，放了本机网卡mac地址，和网关mac地址。但是以太网数据包的限制是1500个字节，如果超过了就需要将ip包切割。

加入ip包是5000个字节，以太网数据包切割成4个数据包，每个数据包包含了以太网吐，ip头和切割后的ip数据包。ip头里包含了每个数据包的序号

4个以太网数据包通过交换机发到路由器（网关）上，最后转发到百度的服务器

百度的服务器接收到4个以太网的数据包后，根据ip头的序号，把ip数据包拼起来，还原成一个完整的ip数据包，
再从ip数据包中拿到tcp数据包，再从tcp数据包中取出http数据包，
读取http数据包里的协议内容，服务器处理后

把响应结果封装成http响应报文，封装到http数据包，再封装到tcp数据包，再封装到ip数据包，在封装到以太网数据包，接着通过网关发回去。